// -*-C++-*-
//@HEADER
//----------------------------------------------------------------------------
//                Copyright (C) 2021 NumGeom Group at Stony Brook University
//----------------------------------------------------------------------------
//@HEADER

/*! \page install Installation

\addindex installation
\tableofcontents

\section install_cpp Installation of the C++ interface

The *HIFIR* package is written in C++, and it uses template-based and
header-only programming. Hence, the installation of C++ interface is pretty
straightforward.

To download the latest version of the code, use the command

\code{.sh}
    git clone -b release -â€“depth 1 https://github.com/hifirworks/hifir.git hifir
    cd hifir
\endcode

Use `git pull` to download any new changes that have been added
since `git clone` or last `git pull`. Alternatively,
use `git checkout v[GLOBAL].[MAJOR].[MINOR]` to download a specific version.
Another way is to download the current archive at
<a href="https://github.com/hifirworks/hifir/releases">here</a>.

To install the code, you can simply do the following on a UNIX system

\code{.sh}
    sudo cp -r src/* /usr/local/include
\endcode

or copy the source files to any user-level directories, e.g.,

\code{.sh}
    cp -r src/* $HOME/.local/include
\endcode

and then add `-I$HOME/.local/include` to the command line of your C++ compiler.

\section install_c Installation of the C library (libhifir)

After obtaining the C++ interface, one can (optionally) install the C
library *libhifir*. First, navigate to the subfolder libhifir

\code{.sh}
    cd libhifir
\endcode

TheThen, install the package using the following procedure

\code{.sh}
    make -j2
    make PREFIX=/path/to/destination install
\endcode

By default, `PREFIX=/usr/local`. In addition, set USE_OPENMP=0 to disable
OpenMP, i.e., `make USE_OPENMP=0 -j2`, and modify `LAPACK_LIBS` if you have
customized installation of LAPACK, i.e.,
`make LAPACK_LIBS="-L/path/to/openblas/lib -lopenblas" -j2`; it is also
preferable to set `LDFLAGS=-Wl,-rpath,/path/to/openblas/lib` before compilation.
Note that `LAPACK_LIBS="-llapack -lblas"` by default.

Once the installation is finished, we have

- `${PREFIX}/include/libhifir.h`: This is the header file.
- `${PREFIX}/lib/libhifir.{so,a}`: These are shared and static libraries for
  32-bit integer builds.
- `${PREFIX}/lib/libhifir_i64.{so,a}`: These are shared and static libraries
  for 64-bit integer builds.

In order to use 64bit library, set `-DLIBHIFIR_INT_SIZE=64` while compiling your
program, i.e., `cc -DLIBHIFIR_INT_SIZE=64 my_prog.c -lhifir_i64`.

*/
