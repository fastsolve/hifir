<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIFIR: io.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HIFIR
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('io_8hpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">io.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Read and write sparse matrices in HIFIR.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;cctype&gt;</code><br />
<code>#include &lt;complex&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;tuple&gt;</code><br />
<code>#include &lt;type_traits&gt;</code><br />
<code>#include &quot;<a class="el" href="Array_8hpp_source.html">hif/ds/Array.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="math_8hpp_source.html">hif/utils/math.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="version_8h_source.html">hif/version.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for io.hpp:</div>
<div class="dyncontent">
<div class="center"><img src="io_8hpp__incl.png" border="0" usemap="#io_8hpp" alt=""/></div>
<map name="io_8hpp" id="io_8hpp">
<area shape="rect" id="node10" href="Array_8hpp.html" title="Array data structure, with functionality of wrapping external data. " alt="" coords="396,155,511,181"/>
<area shape="rect" id="node23" href="math_8hpp.html" title="Some handy BLAS 1 vector routines. " alt="" coords="815,80,937,107"/>
<area shape="rect" id="node28" href="version_8h.html" title="HIF version header. " alt="" coords="1064,80,1157,107"/>
<area shape="rect" id="node13" href="log_8hpp.html" title="Logging interface, including info/warning/error. " alt="" coords="477,229,587,256"/>
<area shape="rect" id="node20" href="print_8hpp.html" title="Macros for &quot;stdout&quot; and &quot;stderr&quot; message printers. " alt="" coords="178,304,297,331"/>
<area shape="rect" id="node22" href="stacktrace_8hpp.html" title="Print stacktrace on error aborting. " alt="" coords="320,304,475,331"/>
<area shape="rect" id="node25" href="common_8hpp.html" title="Utility/helper routines. " alt="" coords="694,155,837,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="io_8hpp__dep__incl.png" border="0" usemap="#io_8hppdep" alt=""/></div>
<map name="io_8hppdep" id="io_8hppdep">
<area shape="rect" id="node2" href="CompressedStorage_8hpp.html" title="Core about CRS and CCS storage formats. " alt="" coords="193,80,359,107"/>
<area shape="rect" id="node3" href="factor_8hpp.html" title="Kernels for deferred factorization. " alt="" coords="235,379,315,405"/>
<area shape="rect" id="node10" href="IterRefine_8hpp.html" title="Iterative refinement for using with HIF. " alt="" coords="5,229,109,256"/>
<area shape="rect" id="node11" href="Prec_8hpp.html" title="Multilevel preconditioner interface. " alt="" coords="408,304,483,331"/>
<area shape="rect" id="node12" href="driver_8hpp.html" title="Top&#45;level driver routine to handle preprocessing. " alt="" coords="235,304,314,331"/>
<area shape="rect" id="node13" href="EqlDriver_8hpp.html" title="Equilibrator driver interface. " alt="" coords="181,155,283,181"/>
<area shape="rect" id="node14" href="matching__scaling_8hpp.html" title="calling interface for matching and scaling " alt="" coords="134,229,282,256"/>
<area shape="rect" id="node4" href="builder_8hpp.html" title="Top level user class for building HIF preconditioner. " alt="" coords="213,528,299,555"/>
<area shape="rect" id="node8" href="pivot__factor_8hpp.html" title="Kernels for deferred factorization with thresholding pivoting. " alt="" coords="293,453,408,480"/>
<area shape="rect" id="node9" href="symm__factor_8hpp.html" title="Kernels for deferred incomplete LDL&#39; factorization. " alt="" coords="96,453,219,480"/>
<area shape="rect" id="node5" href="hifir_8hpp.html" title="top&#45;level user interface " alt="" coords="222,603,290,629"/>
<area shape="rect" id="node6" href="libhifir_8cpp.html" title="C++ implementation of libhifir. " alt="" coords="155,677,237,704"/>
<area shape="rect" id="node7" href="demo__utils_8hpp.html" title="demo_utils.hpp" alt="" coords="261,677,371,704"/>
</map>
</div>
</div>
<p><a href="io_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacehif"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehif.html">hif</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacehif_1_1internal"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehif_1_1internal.html">hif::internal</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga59c160eedb6d968e131aea9a10367946"><td class="memTemplParams" colspan="2">template&lt;class CsType &gt; </td></tr>
<tr class="memitem:ga59c160eedb6d968e131aea9a10367946"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#ga59c160eedb6d968e131aea9a10367946">hif::write_bin</a> (const char *filename, const CsType &amp;A)</td></tr>
<tr class="memdesc:ga59c160eedb6d968e131aea9a10367946"><td class="mdescLeft">&#160;</td><td class="mdescRight">write a <a class="el" href="classhif_1_1CRS.html">CRS</a> matrix  <a href="group__io.html#ga59c160eedb6d968e131aea9a10367946">More...</a><br /></td></tr>
<tr class="separator:ga59c160eedb6d968e131aea9a10367946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08e93eae97844ab6109e754d6e460765"><td class="memTemplParams" colspan="2">template&lt;class IndPtrArray , class IndexArray , class ValueArray &gt; </td></tr>
<tr class="memitem:ga08e93eae97844ab6109e754d6e460765"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#ga08e93eae97844ab6109e754d6e460765">hif::read_bin</a> (const char *filename, std::uint64_t info[], IndPtrArray &amp;ind_start, IndexArray &amp;indices, ValueArray &amp;vals)</td></tr>
<tr class="memdesc:ga08e93eae97844ab6109e754d6e460765"><td class="mdescLeft">&#160;</td><td class="mdescRight">read data from file to a <a class="el" href="classhif_1_1CRS.html">CRS</a> matrix  <a href="group__io.html#ga08e93eae97844ab6109e754d6e460765">More...</a><br /></td></tr>
<tr class="separator:ga08e93eae97844ab6109e754d6e460765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04ca260446ba7e6b509228b0079d6ad5"><td class="memTemplParams" colspan="2">template&lt;int TypeID, bool IsReal, class IndexType , class ValueType &gt; </td></tr>
<tr class="memitem:ga04ca260446ba7e6b509228b0079d6ad5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#ga04ca260446ba7e6b509228b0079d6ad5">hif::internal::mm_read_sparse_data</a> (std::FILE *f, const std::size_t nnz, Array&lt; IndexType &gt; &amp;rows, Array&lt; IndexType &gt; &amp;cols, Array&lt; ValueType &gt; &amp;vals)</td></tr>
<tr class="memdesc:ga04ca260446ba7e6b509228b0079d6ad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal routine to read sparse data.  <a href="group__io.html#ga04ca260446ba7e6b509228b0079d6ad5">More...</a><br /></td></tr>
<tr class="separator:ga04ca260446ba7e6b509228b0079d6ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c2b0d5c411209559da79d185886ef33"><td class="memTemplParams" colspan="2">template&lt;bool IsReal, class ValueType &gt; </td></tr>
<tr class="memitem:ga6c2b0d5c411209559da79d185886ef33"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#ga6c2b0d5c411209559da79d185886ef33">hif::internal::mm_read_vector_data</a> (std::FILE *f, const std::size_t n, Array&lt; ValueType &gt; &amp;v)</td></tr>
<tr class="memdesc:ga6c2b0d5c411209559da79d185886ef33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal routine to read vector data.  <a href="group__io.html#ga6c2b0d5c411209559da79d185886ef33">More...</a><br /></td></tr>
<tr class="separator:ga6c2b0d5c411209559da79d185886ef33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad40204849ab390db879fcef33ed34dc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io.html#gad40204849ab390db879fcef33ed34dc9">hif::internal::mm_read_firstline</a> (std::FILE *f, bool &amp;is_sparse, bool &amp;is_real, int &amp;type_id)</td></tr>
<tr class="memdesc:gad40204849ab390db879fcef33ed34dc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal routine to parse the first line.  <a href="group__io.html#gad40204849ab390db879fcef33ed34dc9">More...</a><br /></td></tr>
<tr class="separator:gad40204849ab390db879fcef33ed34dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga928563fb92417cbf2befd0771a7c80f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io.html#ga928563fb92417cbf2befd0771a7c80f6">hif::internal::mm_read_sparse_size</a> (std::FILE *f, std::size_t &amp;nrows, std::size_t &amp;ncols, std::size_t &amp;nnz)</td></tr>
<tr class="memdesc:ga928563fb92417cbf2befd0771a7c80f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal routine to read sizes.  <a href="group__io.html#ga928563fb92417cbf2befd0771a7c80f6">More...</a><br /></td></tr>
<tr class="separator:ga928563fb92417cbf2befd0771a7c80f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac79beccd6668c627411e4d9ee4624bc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io.html#gac79beccd6668c627411e4d9ee4624bc9">hif::internal::mm_read_dense_size</a> (std::FILE *f, std::size_t &amp;nrows, std::size_t &amp;ncols)</td></tr>
<tr class="separator:gac79beccd6668c627411e4d9ee4624bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb3eba3c5eeb67b0a41f593aa2ce6337"><td class="memTemplParams" colspan="2">template&lt;class IndexType , class ValueType &gt; </td></tr>
<tr class="memitem:gafb3eba3c5eeb67b0a41f593aa2ce6337"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#gafb3eba3c5eeb67b0a41f593aa2ce6337">hif::read_mm_sparse</a> (const char *filename, std::size_t &amp;nrows, std::size_t &amp;ncols, Array&lt; IndexType &gt; &amp;rows, Array&lt; IndexType &gt; &amp;cols, Array&lt; ValueType &gt; &amp;vals)</td></tr>
<tr class="memdesc:gafb3eba3c5eeb67b0a41f593aa2ce6337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a sparse matrix form a MatrixMarket file.  <a href="group__io.html#gafb3eba3c5eeb67b0a41f593aa2ce6337">More...</a><br /></td></tr>
<tr class="separator:gafb3eba3c5eeb67b0a41f593aa2ce6337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab37317675352a438fa90ce0ca917f7d1"><td class="memTemplParams" colspan="2">template&lt;class ValueType &gt; </td></tr>
<tr class="memitem:gab37317675352a438fa90ce0ca917f7d1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#gab37317675352a438fa90ce0ca917f7d1">hif::read_mm_vector</a> (const char *filename, Array&lt; ValueType &gt; &amp;v)</td></tr>
<tr class="memdesc:gab37317675352a438fa90ce0ca917f7d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read vector from a MatrixMarket file.  <a href="group__io.html#gab37317675352a438fa90ce0ca917f7d1">More...</a><br /></td></tr>
<tr class="separator:gab37317675352a438fa90ce0ca917f7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5233adce76a40770def59169ff9f6dd0"><td class="memTemplParams" colspan="2">template&lt;class ValueType &gt; </td></tr>
<tr class="memitem:ga5233adce76a40770def59169ff9f6dd0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#ga5233adce76a40770def59169ff9f6dd0">hif::write_mm_vector</a> (const char *filename, const Array&lt; ValueType &gt; &amp;v)</td></tr>
<tr class="memdesc:ga5233adce76a40770def59169ff9f6dd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a float-point vector to a MatrixMarket file.  <a href="group__io.html#ga5233adce76a40770def59169ff9f6dd0">More...</a><br /></td></tr>
<tr class="separator:ga5233adce76a40770def59169ff9f6dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b699628b30e89476e69ecfe20dbb20b"><td class="memTemplParams" colspan="2">template&lt;bool IsRowMajor, class IndptrType , class IndexType , class ValueType &gt; </td></tr>
<tr class="memitem:ga3b699628b30e89476e69ecfe20dbb20b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__io.html#ga3b699628b30e89476e69ecfe20dbb20b">hif::write_mm_sparse</a> (const char *filename, const std::size_t other_size, const Array&lt; IndptrType &gt; &amp;ind_start, const Array&lt; IndexType &gt; &amp;indices, const Array&lt; ValueType &gt; &amp;vals)</td></tr>
<tr class="memdesc:ga3b699628b30e89476e69ecfe20dbb20b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a sparse matrix.  <a href="group__io.html#ga3b699628b30e89476e69ecfe20dbb20b">More...</a><br /></td></tr>
<tr class="separator:ga3b699628b30e89476e69ecfe20dbb20b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Read and write sparse matrices in HIFIR. </p>
<dl class="section author"><dt>Author</dt><dd>Qiao Chen</dd></dl>
<p>If HDF5 is enabled, then HIFIR is able to output sparse matrices into HDF5 files with four DataSets:</p><ul>
<li>"sparse_info": length-four array of [nrows,ncols,isrowmajor,isreal] the data type is <em>std::uint64_t</em> </li>
<li>"ind_start": indptr array</li>
<li>"indices": index array</li>
<li>"vals": value array Note that we use HDF5 C++ interface.</li>
</ul>
<p>In addition, we provide routines to handle the Matrix Market file format. In particular, we support read all sparse matrices. For dense matrix, we will treat it as an array for RHS, thus we only read the first column.</p>
<pre class="fragment">Copyright (C) 2021 NumGeom Group at Stony Brook University

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see &lt;https://www.gnu.org/licenses/&gt;.
</pre> 
<p class="definition">Definition in file <a class="el" href="io_8hpp_source.html">io.hpp</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_b71a56306648c2ebe777f648dc45e4a5.html">hif</a></li><li class="navelem"><a class="el" href="dir_d9fdc8c1e34ccdddc3ec4c4cf435ded8.html">utils</a></li><li class="navelem"><a class="el" href="io_8hpp.html">io.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
